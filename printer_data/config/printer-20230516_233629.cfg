
[include mainsail.cfg]
[include ./CONFIG/common_config.cfg]
[include ./CONFIG/rpi.cfg]
[include ./CONFIG/arduino.cfg]
[include ./CONFIG/led_effect.cfg]
[include ./CONFIG/move_config.cfg]
[include ./MACROS/macros_start_end.cfg]
[include ./MACROS/macros_leds.cfg]
[include ./MACROS/macros_bed.cfg]
[include ./MACROS/macros_calibration.cfg]
[include ./MACROS/macros_filament.cfg]
[include ./MACROS/PLUGINS/macro_adaptive_bed_mesh.cfg]

###################################
#           BED                   #
###################################
[include ./CONFIG/bed_config.cfg]

[heater_bed]
heater_pin: P2.5
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.25
#control: pid
#pid_Kp: 51.624
#pid_Ki: 2.798
#pid_Kd: 238.118
min_temp: 0
max_temp: 130

[bltouch]
sensor_pin: ^P0.10
control_pin: P2.0
samples: 2
sample_retract_dist: 5.0
probe_with_touch_mode: True
x_offset: 0
y_offset: 35
#z_offset = 0
stow_on_each_sample: True
# Some BLTouch V3 and many clones apparently require this, though mine didnt:
pin_up_reports_not_triggered: True
pin_up_touch_mode_reports_triggered: True
#flavor: genuine_smart_3.1
pin_move_time: 1


###################################
#           EXTRUDER              #
###################################
[extruder]
step_pin: P2.13
dir_pin: !P0.11
enable_pin: !P2.12
microsteps: 16
rotation_distance: 7.37
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: P2.7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.24
#control: pid
#pid_Kp: 39.645
#pid_Ki: 2.970
#pid_Kd: 132.315
min_temp: 0
max_temp: 260
max_extrude_only_distance: 200.000
pressure_advance:1
pressure_advance_smooth_time: 0.04


[board_pins]
aliases:
    # EXP1 header
    EXP1_1=P1.30, EXP1_3=P1.18, EXP1_5=P1.20, EXP1_7=P1.22, EXP1_9=<GND>,
    EXP1_2=P0.28, EXP1_4=P1.19, EXP1_6=P1.21, EXP1_8=P1.23, EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=P0.17, EXP2_3=P3.26, EXP2_5=P3.25, EXP2_7=P1.31, EXP2_9=<GND>,
    EXP2_2=P0.15, EXP2_4=P0.16, EXP2_6=P0.18, EXP2_8=<RST>, EXP2_10=<NC>
    # Pins EXP2_1, EXP2_6, EXP2_2 are also MISO, MOSI, SCK of bus "ssp0"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 50.109
#*# pid_ki = 2.694
#*# pid_kd = 233.007
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 29.525
#*# pid_ki = 1.426
#*# pid_kd = 152.794
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.015000, 0.000000, -0.008750, -0.002500, -0.021250, -0.013750, -0.030000, -0.040000, -0.025000
#*# 	0.055000, 0.026250, -0.006250, -0.016250, -0.013750, -0.040000, -0.043750, -0.031250, -0.023750
#*# 	0.043750, 0.042500, 0.041250, 0.003750, 0.005000, -0.006250, -0.010000, -0.020000, -0.020000
#*# 	0.028750, 0.016250, 0.006250, 0.000000, -0.013750, -0.015000, -0.020000, -0.023750, -0.017500
#*# 	0.018750, 0.016250, 0.007500, 0.006250, 0.000000, -0.016250, -0.016250, -0.027500, -0.020000
#*# 	-0.018750, -0.011250, -0.042500, -0.011250, -0.006250, -0.052500, -0.047500, -0.046250, -0.038750
#*# 	-0.053750, -0.051250, -0.050000, -0.068750, -0.076250, -0.040000, -0.053750, -0.048750, -0.023750
#*# 	-0.091250, -0.077500, -0.082500, -0.095000, -0.086250, -0.090000, -0.072500, -0.041250, -0.000000
#*# 	-0.075000, -0.068750, -0.081250, -0.082500, -0.071250, -0.062500, -0.050000, -0.036250, 0.027500
#*# x_count = 9
#*# y_count = 9
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 10.0
#*# max_x = 274.96
#*# min_y = 40.0
#*# max_y = 324.96
#*#
#*# [bltouch]
#*# z_offset = 2.020
