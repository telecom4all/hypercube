[include shell_command.cfg]

[include mainsail.cfg]
[include ./CONFIG/common_config.cfg]
[include ./CONFIG/rpi.cfg]
#[include ./CONFIG/arduino.cfg]
#[include ./CONFIG/led_effect.cfg]
[include ./CONFIG/move_config.cfg]
[include ./MACROS/macros_start_end.cfg]
#[include ./MACROS/macros_leds.cfg]
[include ./MACROS/macros_bed.cfg]
[include ./MACROS/macros_calibration.cfg]
[include ./MACROS/macros_filament.cfg]
[include ./MACROS/PLUGINS/macro_adaptive_bed_mesh.cfg]

#[include ./CONFIG/portable_input_shaper.cfg]

###################################
#           BED                   #
###################################
[include ./CONFIG/bed_config.cfg]

[heater_bed]
heater_pin: P2.5
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.25
#control: pid
#pid_Kp: 51.624
#pid_Ki: 2.798
#pid_Kd: 238.118
min_temp: 0
max_temp: 130

[bltouch]
sensor_pin: ^P0.10
control_pin: P2.0
samples: 2
sample_retract_dist: 5.0
probe_with_touch_mode: True
x_offset: 0
y_offset: 35
#z_offset = 0
stow_on_each_sample: True
# Some BLTouch V3 and many clones apparently require this, though mine didnt:
pin_up_reports_not_triggered: True
pin_up_touch_mode_reports_triggered: True
#flavor: genuine_smart_3.1
pin_move_time: 1


###################################
#           EXTRUDER              #
###################################
[extruder]
step_pin: P2.13
dir_pin: !P0.11
enable_pin: !P2.12
microsteps: 16
rotation_distance: 7.37
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: P2.7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.24
#control: pid
#pid_Kp: 39.645
#pid_Ki: 2.970
#pid_Kd: 132.315
min_temp: 0
max_temp: 260
max_extrude_only_distance: 200.000
pressure_advance:1
pressure_advance_smooth_time: 0.04


[board_pins]
aliases:
    # EXP1 header
    EXP1_1=P1.30, EXP1_3=P1.18, EXP1_5=P1.20, EXP1_7=P1.22, EXP1_9=<GND>,
    EXP1_2=P0.28, EXP1_4=P1.19, EXP1_6=P1.21, EXP1_8=P1.23, EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=P0.17, EXP2_3=P3.26, EXP2_5=P3.25, EXP2_7=P1.31, EXP2_9=<GND>,
    EXP2_2=P0.15, EXP2_4=P0.16, EXP2_6=P0.18, EXP2_8=<RST>, EXP2_10=<NC>
    # Pins EXP2_1, EXP2_6, EXP2_2 are also MISO, MOSI, SCK of bus "ssp0"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 51.872
#*# pid_ki = 2.835
#*# pid_kd = 237.315
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 31.725
#*# pid_ki = 1.823
#*# pid_kd = 138.005
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.545000, 0.380000, 0.148750, -0.092500, -0.335000
#*# 	  0.427500, 0.193750, 0.000000, -0.175000, -0.430000
#*# 	  0.261250, 0.055000, -0.167500, -0.360000, -0.617500
#*# x_count = 5
#*# y_count = 3
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = lagrange
#*# tension = 0.2
#*# min_x = 120.0
#*# max_x = 219.0
#*# min_y = 113.0
#*# max_y = 207.0
#*#
#*# [bltouch]
#*# z_offset = 2.144
#*#
#*# [input_shaper]
#*# shaper_type_x = 2hump_ei
#*# shaper_freq_x = 83.2
#*# shaper_type_y = zv
#*# shaper_freq_y = 41.4
