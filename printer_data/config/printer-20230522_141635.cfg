[include shell_command.cfg]

[include mainsail.cfg]
[include ./CONFIG/common_config.cfg]
[include ./CONFIG/rpi.cfg]
#[include ./CONFIG/arduino.cfg]
#[include ./CONFIG/led_effect.cfg]
[include ./CONFIG/move_config.cfg]
[include ./MACROS/macros_start_end.cfg]
#[include ./MACROS/macros_leds.cfg]
[include ./MACROS/macros_bed.cfg]
[include ./MACROS/macros_calibration.cfg]
[include ./MACROS/macros_filament.cfg]
[include ./MACROS/PLUGINS/macro_adaptive_bed_mesh.cfg]

#[include ./CONFIG/portable_input_shaper.cfg]

###################################
#           BED                   #
###################################
[include ./CONFIG/bed_config.cfg]

[heater_bed]
heater_pin: P2.5
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.25
#control: pid
#pid_Kp: 51.624
#pid_Ki: 2.798
#pid_Kd: 238.118
min_temp: 0
max_temp: 130

[bltouch]
sensor_pin: ^P0.10
control_pin: P2.0
samples: 2
sample_retract_dist: 5.0
probe_with_touch_mode: True
x_offset: 0
y_offset: 35
#z_offset = 0
stow_on_each_sample: True
# Some BLTouch V3 and many clones apparently require this, though mine didnt:
pin_up_reports_not_triggered: True
pin_up_touch_mode_reports_triggered: True
#flavor: genuine_smart_3.1
pin_move_time: 1


###################################
#           EXTRUDER              #
###################################
[extruder]
step_pin: P2.13
dir_pin: !P0.11
enable_pin: !P2.12
microsteps: 16
rotation_distance: 7.37
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: P2.7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: P0.24
#control: pid
#pid_Kp: 39.645
#pid_Ki: 2.970
#pid_Kd: 132.315
min_temp: 0
max_temp: 260
max_extrude_only_distance: 200.000
pressure_advance:1
pressure_advance_smooth_time: 0.04


[board_pins]
aliases:
    # EXP1 header
    EXP1_1=P1.30, EXP1_3=P1.18, EXP1_5=P1.20, EXP1_7=P1.22, EXP1_9=<GND>,
    EXP1_2=P0.28, EXP1_4=P1.19, EXP1_6=P1.21, EXP1_8=P1.23, EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=P0.17, EXP2_3=P3.26, EXP2_5=P3.25, EXP2_7=P1.31, EXP2_9=<GND>,
    EXP2_2=P0.15, EXP2_4=P0.16, EXP2_6=P0.18, EXP2_8=<RST>, EXP2_10=<NC>
    # Pins EXP2_1, EXP2_6, EXP2_2 are also MISO, MOSI, SCK of bus "ssp0"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 51.872
#*# pid_ki = 2.835
#*# pid_kd = 237.315
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 31.725
#*# pid_ki = 1.823
#*# pid_kd = 138.005
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	0.380000, 0.360000, 0.375000, 0.311250, 0.207500, 0.180000, 0.201250, 0.007500, -0.083750
#*# 	0.353750, 0.297500, 0.267500, 0.230000, 0.170000, 0.125000, 0.058750, -0.003750, -0.127500
#*# 	0.336250, 0.227500, 0.168750, 0.085000, 0.061250, -0.065000, -0.190000, -0.255000, -0.402500
#*# 	0.337500, 0.230000, 0.175000, 0.098750, 0.012500, -0.088750, -0.167500, -0.233750, -0.376250
#*# 	0.290000, 0.193750, 0.182500, 0.068750, 0.000000, -0.096250, -0.165000, -0.415000, -0.520000
#*# 	0.218750, 0.151250, 0.033750, 0.016250, -0.063750, -0.171250, -0.318750, -0.423750, -0.535000
#*# 	0.158750, 0.072500, -0.007500, -0.111250, -0.135000, -0.232500, -0.373750, -0.386250, -0.543750
#*# 	0.180000, 0.038750, -0.025000, -0.130000, -0.203750, -0.295000, -0.353750, -0.526250, -0.570000
#*# 	0.161250, -0.000000, -0.062500, -0.183750, -0.317500, -0.410000, -0.550000, -0.657500, -0.762500
#*# x_count = 9
#*# y_count = 9
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 10.0
#*# max_x = 274.96
#*# min_y = 40.0
#*# max_y = 310.0
#*#
#*# [bltouch]
#*# z_offset = 1.711
#*#
#*# [input_shaper]
#*# shaper_type_x = 2hump_ei
#*# shaper_freq_x = 83.2
#*# shaper_type_y = zv
#*# shaper_freq_y = 41.4
